{"version":3,"sources":["../../../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js","../../../shared/isomorphic/components/Feedback/Notification.js","../../../shared/common/library/helpers/history.js","../../../shared/isomorphic/config/auth0.config.js","../../../shared/isomorphic/containers/Authentication/Auth0/Auth0.js","../../../shared/isomorphic/containers/Authentication/Auth0/Auth0Callback.js"],"names":["componentWillMount","state","this","constructor","getDerivedStateFromProps","props","undefined","setState","componentWillReceiveProps","nextProps","prevState","bind","componentWillUpdate","nextState","prevProps","__reactInternalSnapshotFlag","__reactInternalSnapshot","getSnapshotBeforeUpdate","polyfill","Component","prototype","isReactComponent","Error","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","componentName","displayName","name","newApiName","componentDidUpdate","maybeSnapshot","snapshot","call","__suppressDeprecationWarning","createBrowserHistory","forceRefresh","clientID","domain","allowedConnections","rememberLastLogin","language","closable","options","auth","autoParseHash","responseType","redirect","redirectUrl","languageDictionary","title","emailInputPlaceholder","passwordInputPlaceholder","theme","labeledSubmitButton","logo","primaryColor","authButtons","connectionName","foregroundColor","Auth0","lock","Auth0Lock","Auth0Config","login","show","handleAuthentication","on","setSession","error","notification","authResult","expiresAt","JSON","stringify","expiresIn","Date","getTime","localStorage","setItem","accessToken","idToken","history","replace","logout","removeItem","isAuthenticated","parse","getItem","EventEmitter","Auth0Callback","useEffect","authActions"],"mappings":"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","file":"static/js/20.b682fef7.chunk.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\nexport { polyfill };\n","import { notification } from 'antd';\n\nexport default notification;\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory({\n  forceRefresh: true,\n});\n","export default {\n  clientID: 'your_client_id',\n  domain: 'your_domain_name',\n  allowedConnections: ['Username-Password-Authentication'],\n  rememberLastLogin: true,\n  language: 'en',\n  closable: true,\n  options: {\n    auth: {\n      autoParseHash: true,\n      responseType: 'token id_token',\n      redirect: true,\n      redirectUrl:\n        process.env.NODE_ENV !== 'production'\n          ? 'http://localhost:3000/auth0loginCallback'\n          : 'https://your_domain_name/auth0loginCallback',\n    },\n    languageDictionary: {\n      title: 'Isomorphic',\n      emailInputPlaceholder: 'demo@gmail.com',\n      passwordInputPlaceholder: 'demodemo',\n    },\n    theme: {\n      labeledSubmitButton: true,\n      logo: 'your_logo_url',\n      primaryColor: '#E14615',\n      authButtons: {\n        connectionName: {\n          displayName: 'Log In',\n          primaryColor: '#b7b7b7',\n          foregroundColor: '#000000',\n        },\n      },\n    },\n  },\n};\n","import { EventEmitter } from 'events';\nimport Auth0Lock from 'auth0-lock';\nimport history from '@iso/lib/helpers/history';\nimport Auth0Config from '@iso/config/auth0.config';\nimport notification from '@iso/components/Feedback/Notification';\n\nclass Auth0 extends EventEmitter {\n  lock = new Auth0Lock(\n    Auth0Config.clientID,\n    Auth0Config.domain,\n    Auth0Config.options\n  );\n\n  login = () => {\n    if (!this.lock) {\n      return;\n    }\n    this.lock.show();\n  };\n  handleAuthentication = () => {\n    // Add callback Lock's `authenticated` event\n    this.lock.on('authenticated', this.setSession);\n    // Add callback for Lock's `authorization_error` event\n    this.lock.on('authorization_error', error =>\n      notification('error', 'Wrong mail or password')\n    );\n  };\n  setSession = authResult => {\n    // Set the time that the access token will expire at\n    let expiresAt = JSON.stringify(\n      authResult.expiresIn * 1000 + new Date().getTime()\n    );\n    localStorage.setItem('access_token', authResult.accessToken);\n    localStorage.setItem('id_token', authResult.idToken);\n    localStorage.setItem('expires_at', expiresAt);\n    // navigate to the dashboard route\n    history.replace('/dashboard');\n  };\n  logout = () => {\n    // Clear access token and ID token from local storage\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('id_token');\n    localStorage.removeItem('expires_at');\n    // navigate to the home route\n    history.replace('/');\n  };\n\n  isAuthenticated = () => {\n    let expiresAt = JSON.parse(localStorage.getItem('expiresAt'));\n    return new Date().getTime() < expiresAt;\n  };\n}\nexport default new Auth0();\n","import React, { useEffect } from 'react';\nimport Auth0 from './Auth0';\nimport authActions from '@iso/redux/auth/actions';\nconst Auth0Callback = () => {\n  useEffect(() => {\n    Auth0.handleAuthentication();\n    authActions.login();\n  }, [Auth0.handleAuthentication]);\n\n  return <p>Loading ...</p>;\n};\n\nexport default Auth0Callback;\n"],"sourceRoot":""}